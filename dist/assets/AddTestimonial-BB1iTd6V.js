import{r as n,u as y,j as e,R as v,B as E}from"./index-CpFmk86o.js";import{R as u,C as l,b as m,a as p}from"./axios-Dx3QdDAU.js";import{F as a}from"./Form-ClsflyVD.js";const B=()=>{const[o,g]=n.useState([]),[s,c]=n.useState({testimonialData:{},testimonialDetails:{}}),[h,r]=n.useState({testimonialData:!0,testimonialDetails:!0}),[j,D]=n.useState([]),f=y(),C=t=>{D(t.target.files[0])};n.useEffect(()=>{(()=>{let d={method:"get",maxBodyLength:1/0,url:"https://rareminds.in/api/testimonialCategories",headers:{}};p.request(d).then(i=>{console.log("response",i.data),g(i.data.categories)}).catch(i=>{console.log(i)})})()},[]);const b=()=>{let t=new FormData;for(var d in s)t.append(d,JSON.stringify(s[d]));t.append("ContentImage",j);let i={method:"post",maxBodyLength:1/0,url:"https://rareminds.in/api/addTestimonial",headers:"Content-Type: multipart/form-data",data:t};p.request(i).then(x=>{f("/testimonials")}).catch(x=>{console.log(x)})};return console.log("form data",o),e.jsx(v.Fragment,{children:e.jsx(u,{children:e.jsx(l,{sm:12,children:e.jsxs(m,{children:[e.jsx(m.Header,{children:e.jsx(m.Title,{as:"h5",children:"Testimonial"})}),e.jsx(m.Body,{children:e.jsxs(a,{children:[e.jsxs(u,{children:[e.jsx(l,{md:12,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Enter Author Details"}),e.jsx(a.Control,{placeholder:"Enter author details",onChange:t=>{c({...s,testimonialDetails:{...s.testimonialDetails,ContentTitle:t.target.value}}),r({testimonialData:!1})}})]})}),e.jsx(l,{md:12,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Enter Description"}),e.jsx(a.Control,{placeholder:"Enter Description",onChange:t=>{c({...s,testimonialDetails:{...s.testimonialDetails,ContentDescription:t.target.value}}),r({testimonialDetails:!1})},as:"textarea",rows:4})]})}),e.jsx(l,{md:6,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Image"}),e.jsx(a.Control,{type:"file",onChange:t=>{C(t),r({...h,testimonialDetails:!1})}})]})}),e.jsx(l,{md:6,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Category"}),e.jsxs(a.Select,{onChange:t=>{c({...s,testimonialDetails:{...s.testimonialDetails,ContentId:t.target.value}}),r({testimonialDetails:!1})},children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Category"}),o==null?void 0:o.map(t=>e.jsx("option",{value:t.ContentId,children:t.Heading1},t.ContentId))]})]})})]}),e.jsx(E,{variant:"primary",onClick:()=>b(),disabled:h.testimonialDetails,className:"float-right",children:"Submit"})]})})]})})})})};export{B as default};
