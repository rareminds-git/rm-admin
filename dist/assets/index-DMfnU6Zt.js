import{r as l,u as b,j as e,R as g}from"./index-CpFmk86o.js";import{R as x,C as h,b as t,a as y}from"./axios-Dx3QdDAU.js";import{h as o}from"./moment-G82_0lEo.js";import{T as a}from"./Table-D1RLb0rs.js";const C=()=>{var m,p;const[s,u]=l.useState(),[c,w]=l.useState();l.useEffect(()=>{(()=>{let i={method:"get",maxBodyLength:1/0,url:"https://rareminds.in/api/dashboard",headers:{}};y.request(i).then(n=>{u(n.data)}).catch(n=>{console.log(n)})})()},[]);const W=b();return l.useEffect(()=>{const r=[{title:"Blogs",amount:s==null?void 0:s.blogsData.length,icon:"icon-arrow-up text-c-green",value:50,class:"progress-c-theme"},{title:"Last 7 day Queries",amount:s==null?void 0:s.queries.length,icon:"icon-arrow-down text-c-red",value:36,class:"progress-c-theme2"},{title:"Last 7 day Subscriptions",amount:s==null?void 0:s.subscribers.length,icon:"icon-arrow-up text-c-green",value:70,color:"progress-c-theme"}];w(r)},[s]),e.jsxs(g.Fragment,{children:[e.jsx(x,{children:c==null?void 0:c.map((r,i)=>e.jsx(h,{xl:6,xxl:4,children:e.jsx(t,{children:e.jsxs(t.Body,{children:[e.jsx("h6",{className:"mb-4",children:r.title}),e.jsx("div",{className:"row d-flex align-items-center",children:e.jsx("div",{className:"col-9",children:e.jsx("h3",{className:"f-w-300 d-flex align-items-center m-b-0",children:r.amount})})}),e.jsx("div",{className:"progress m-t-30",style:{height:"7px"},children:e.jsx("div",{className:`progress-bar ${r.class}`,role:"progressbar",style:{width:`${r.amount}%`},"aria-valuenow":r.value,"aria-valuemin":"0","aria-valuemax":"100"})})]})})},i))}),e.jsxs(x,{children:[e.jsx(h,{md:8,children:e.jsx(t,{children:e.jsxs(t.Body,{children:[e.jsx("h2",{children:" Queries "}),e.jsxs(a,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Full Name"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Job Title"}),e.jsx("th",{children:"Services"}),e.jsx("th",{children:"Referral Source"}),e.jsx("th",{children:"Comment"}),e.jsx("th",{children:"Submitted Date"})]})}),e.jsx("tbody",{children:(m=s==null?void 0:s.queries)==null?void 0:m.slice(0,5).map((r,i)=>{var j;let n=(j=r==null?void 0:r.Services.split(","))==null?void 0:j.map(d=>{if(d.trim()==="TA")return"Talent Acquisition";if(d.trim()==="TD")return"Talent Development";if(d.trim()==="TM")return"Talent Management"});return e.jsxs("tr",{children:[e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:r.FullName}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:r.CompanyName}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:r.Email}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:r.Jobtitle}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:n.join(", ")}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:r.ReferralSource}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:r.Comment}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:o(r.CreatedAt).format("MM/DD/YYYY hh:mm:ss")}),e.jsx("td",{})]},i)})})]})]})})}),e.jsx(h,{md:4,children:e.jsx(t,{children:e.jsxs(t.Body,{children:[e.jsx("h2",{children:" Subscibers "}),e.jsxs(a,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Submitted Date"})]})}),e.jsx("tbody",{children:(p=s==null?void 0:s.subscribers)==null?void 0:p.slice(0,5).map((r,i)=>e.jsxs("tr",{children:[e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:r.SubscriberEmail}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"60px",maxWidth:"260px",whiteSpace:"normal"},children:o(r.CreatedOn).format("MM/DD/YYYY hh:mm:ss")}),e.jsx("td",{})]},i))})]})]})})})]}),e.jsx(x,{children:e.jsx(h,{children:e.jsx(t,{children:e.jsxs(t.Body,{children:[e.jsx("h2",{children:" Blogs "}),e.jsxs(a,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:s==null?void 0:s.blogsData.slice(0,5).map((r,i)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:i+1}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"260px",maxWidth:"260px",whiteSpace:"normal"},children:r.Heading1}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"260px",maxWidth:"260px",whiteSpace:"normal"},children:r.Heading2}),e.jsx("td",{style:{wordWrap:"break-word",minWidth:"260px",maxWidth:"260px",whiteSpace:"normal"},children:o(r.CreatedOn).format("DD-MM-YYYY")}),e.jsx("td",{children:e.jsx("button",{onClick:()=>W(`/edit/blog/${r.ContentSlug}`),className:"btn btn-primary",children:"Edit"})})]},i))})]})]})})})})]})};export{C as default};
