import{b as I,r as x,j as e,R as $,B as p}from"./index-CpFmk86o.js";import{R as m,C as i,b as l,a as P}from"./axios-Dx3QdDAU.js";import{T as w}from"./TextEditor-BhXx2iB8.js";import{b as B}from"./helpers-D_C948am.js";import{S as H}from"./SuccessBanner-5bNXM_Ha.js";import{F as s}from"./Form-ClsflyVD.js";import"./ckeditor5-FiHyv50m.js";import"./toString-qof7_FyP.js";import"./Alert-B-JUCmsd.js";const W=()=>{var b,C,E,y,T,G,N,L;const{userType:g,slug:f}=I(),[r,M]=x.useState(),[O,F]=x.useState([]),[n,o]=x.useState({serviceData:{},servicePrograms:{},metadata:{}}),[h,c]=x.useState({serviceData:!0,metadata:!0,servicePrograms:!0}),[D,v]=x.useState({});x.useEffect(()=>{(()=>{let t={method:"get",maxBodyLength:1/0,url:`https://rareminds.in/api/services/${g}/${f}`,headers:{}};P.request(t).then(d=>{console.log("edit data",B(d.data)),M(B(d.data))}).catch(d=>{console.log(d)})})()},[]);const V=a=>{F(a.target.files[0]);const t=new FormData;n.serviceData.Heading1&&t.append("ContentTitle",n.serviceData.Heading1),n.serviceData.Description&&t.append("Description",n.serviceData.Description),t.append("Image1",a.target.files[0]),o({serviceData:t})},j=a=>{let t=n[a];console.log("data",t),a!=="serviceData"&&(t.ContentSlug=a);let d=new FormData;a==="serviceData"&&(t.Heading1&&d.append("Heading1",t.Heading1),t.Description&&d.append("Description",t.Description),d.append("Image1",O)),console.log("service form data",Object.entries(d));let S={method:"post",maxBodyLength:1/0,url:`https://rareminds.in/api/editService/${g}/${f}/${a}`,headers:a==="serviceData"?"Content-Type: multipart/form-data":"Content-Type: application/json",data:a==="serviceData"?d:JSON.stringify(t)};P.request(S).then(u=>{console.log(JSON.stringify(u.data)),v({[a]:!0}),setTimeout(()=>{v({[a]:!1})},2e3)}).catch(u=>{console.log(u)})};return console.log("disabled btn",n),e.jsx($.Fragment,{children:e.jsxs(m,{children:[e.jsx(i,{sm:6,children:e.jsxs(l,{children:[e.jsxs(l.Header,{children:[D.serviceData&&e.jsx(H,{}),e.jsx(l.Title,{as:"h5",children:"Our Services"})]}),e.jsx(l.Body,{children:e.jsxs(s,{children:[e.jsxs(m,{children:[e.jsx(i,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Heading"}),e.jsx(s.Control,{placeholder:"Enter heading",onChange:a=>{o({...n,serviceData:{...n.serviceData,Heading1:a.target.value}}),c({serviceData:!1})},defaultValue:(b=r==null?void 0:r.serviceData)==null?void 0:b.Heading1})]})}),e.jsx(i,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Image"}),e.jsx(s.Control,{placeholder:"Enter Title",type:"file",onChange:a=>{V(a),c({...h,studyDetails:!1})}})]})}),e.jsx(i,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Description"}),e.jsx(w,{defaultValue:(C=r==null?void 0:r.serviceData)==null?void 0:C.Description,contentSlug:"serviceData",pageData:r,setBtnDisabled:c,setFormData:o,btnDisabled:h})]})})]}),e.jsx(p,{variant:"primary",onClick:()=>j("serviceData"),disabled:h.serviceData,className:"float-right",children:"Submit"})]})})]})}),e.jsx(i,{sm:6,children:e.jsxs(l,{children:[e.jsxs(l.Header,{children:[D.metadata&&e.jsx(H,{}),e.jsx(l.Title,{as:"h5",children:"Metadata"})]}),e.jsx(l.Body,{children:e.jsxs(s,{children:[e.jsxs(m,{children:[e.jsx(i,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Title"}),e.jsx(s.Control,{placeholder:"Enter meta title",onChange:a=>{o(t=>({...t,metadata:{...t.hero,MetaTitle:a.target.value}})),c({metadata:!1})},defaultValue:(E=r==null?void 0:r.pageData)==null?void 0:E.MetaTitle})]})}),e.jsx(i,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter OG Title"}),e.jsx(s.Control,{placeholder:"Enter og title",onChange:a=>{o(t=>({...t,metadata:{...t.hero,OGTitle:a.target.value}})),c({metadata:!1})},defaultValue:(y=r==null?void 0:r.pageData)==null?void 0:y.OGTitle})]})})]}),e.jsx(m,{children:e.jsx(i,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Description"}),e.jsx(s.Control,{as:"textarea",rows:3,onChange:a=>{o(t=>({...t,metadata:{...t.hero,MetaDescription:a.target.value}})),c({metadata:!1})},defaultValue:(T=r==null?void 0:r.pageData)==null?void 0:T.MetaDescription,placeholder:"Enter meta description"})]})})}),e.jsx(m,{children:e.jsx(i,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter OG Description"}),e.jsx(s.Control,{as:"textarea",onChange:a=>{o(t=>({...t,metadata:{...t.hero,OGDescription:a.target.value}})),c({metadata:!1})},rows:3,defaultValue:(G=r==null?void 0:r.pageData)==null?void 0:G.OGDescription,placeholder:"Enter og description"})]})})}),e.jsx(m,{children:e.jsx(i,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Keywords"}),e.jsx(s.Control,{as:"textarea",onChange:a=>{o(t=>({...t,metadata:{...t.hero,MetaKeywords:a.target.value}})),c({metadata:!1})},rows:3,defaultValue:(N=r==null?void 0:r.pageData)==null?void 0:N.MetaKeywords,placeholder:"Enter meta keywords"})]})})}),e.jsx(p,{variant:"primary",onClick:()=>j("metadata"),disabled:h.metadata,className:"float-right",children:"Submit"})]})})]})}),e.jsx(i,{sm:12,children:e.jsxs(l,{children:[e.jsx(l.Header,{children:e.jsx(l.Title,{as:"h5",children:"Program Details"})}),e.jsx(l.Body,{children:e.jsxs(s,{children:[(L=r==null?void 0:r.services)==null?void 0:L.map(a=>e.jsxs(m,{children:[e.jsx(i,{sm:"4",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Title"}),e.jsx(s.Control,{placeholder:"Enter title",onChange:t=>{o({...n,servicePrograms:{...n.servicePrograms,[a==null?void 0:a.ContentDetailId]:{ContentTitle:t.target.value}}}),c({servicePrograms:!1})},defaultValue:a==null?void 0:a.ContentTitle})]})}),e.jsx(i,{sm:"8",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Description"}),e.jsx(w,{defaultValue:a==null?void 0:a.ContentDescription,contentSlug:"servicePrograms",pageData:a,setBtnDisabled:c,setFormData:o,formData:n,btnDisabled:h})]})})]})),e.jsx(p,{variant:"primary",onClick:()=>j("servicePrograms"),disabled:h.servicePrograms,className:"float-right",children:"Submit"})]})})]})})]})})};export{W as default};
