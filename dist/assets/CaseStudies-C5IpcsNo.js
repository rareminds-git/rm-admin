import{b as L,r as h,u as S,j as e,R as O,B as N}from"./index-CpFmk86o.js";import{R as o,C as n,b as d,a as I}from"./axios-Dx3QdDAU.js";import{T as H}from"./TextEditor-BhXx2iB8.js";import{e as V}from"./helpers-D_C948am.js";import{S as B}from"./SuccessBanner-5bNXM_Ha.js";import{F as s}from"./Form-ClsflyVD.js";import{T as R}from"./Table-D1RLb0rs.js";import"./ckeditor5-FiHyv50m.js";import"./toString-qof7_FyP.js";import"./Alert-B-JUCmsd.js";const U=()=>{var f,C,b,y,D,E,T,G;const{slug:x}=L(),[t,v]=h.useState(),[w,i]=h.useState({studyData:{},metadata:{}}),[m,l]=h.useState({studyData:!0,metadata:!0}),M=S();h.useEffect(()=>{(()=>{let a={method:"get",maxBodyLength:1/0,url:`https://rareminds.in/api/${x}/case-studies`,headers:{}};I.request(a).then(c=>{v(V(c.data))}).catch(c=>{console.log(c)})})()},[x]);const u=r=>{let a=w[r];a.ContentSlug=r;let c={method:"post",maxBodyLength:1/0,url:`https://rareminds.in/api/case-studies/edit/${x}`,headers:{"Content-Type":"application/json"},data:JSON.stringify(a)};I.request(c).then(j=>{console.log(JSON.stringify(j.data)),g({[r]:!0}),setTimeout(()=>{g({[r]:!1})},2e3)}).catch(j=>{console.log(j)})},[p,g]=h.useState({});return e.jsx(O.Fragment,{children:e.jsxs(o,{children:[e.jsx(n,{sm:6,children:e.jsxs(d,{children:[e.jsxs(d.Header,{children:[p.studyData&&e.jsx(B,{}),e.jsx(d.Title,{as:"h5",children:"Case Studies"})]}),e.jsx(d.Body,{children:e.jsxs(s,{children:[e.jsx(o,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Heading"}),e.jsx(s.Control,{placeholder:"Enter heading",onChange:r=>{i(a=>({...a,studyData:{...a.studyData,Heading1:r.target.value}})),l({...m,studyData:!1})},defaultValue:(f=t==null?void 0:t.pageData)==null?void 0:f.Heading1})]})})}),e.jsx(o,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Description"}),e.jsx(H,{defaultValue:(C=t==null?void 0:t.pageData)==null?void 0:C.Description,contentSlug:"studyData",pageData:t,setBtnDisabled:l,setFormData:i,btnDisabled:m})]})})}),e.jsx(N,{variant:"primary",onClick:()=>u("studyData"),disabled:m.studyData,className:"float-right",children:"Submit"})]})})]})}),e.jsx(n,{sm:6,children:e.jsxs(d,{children:[e.jsxs(d.Header,{children:[p.metadata&&e.jsx(B,{}),e.jsx(d.Title,{as:"h5",children:"Metadata"})]}),e.jsx(d.Body,{children:e.jsxs(s,{children:[e.jsxs(o,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Title"}),e.jsx(s.Control,{placeholder:"Enter meta title",onChange:r=>{i(a=>({...a,metadata:{...a.services,MetaTitle:r.target.value,ContentId:t.pageData.ContentId}})),l({metadata:!1})},defaultValue:(b=t==null?void 0:t.pageData)==null?void 0:b.MetaTitle})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter OG Title"}),e.jsx(s.Control,{placeholder:"Enter og title",onChange:r=>{i(a=>({...a,metadata:{...a.services,OGTitle:r.target.value,ContentId:t.pageData.ContentId}})),l({metadata:!1})},defaultValue:(y=t==null?void 0:t.pageData)==null?void 0:y.OGTitle})]})})]}),e.jsx(o,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Description"}),e.jsx(s.Control,{as:"textarea",rows:3,onChange:r=>{i(a=>({...a,metadata:{...a.services,MetaDescription:r.target.value,ContentId:t.pageData.ContentId}})),l({metadata:!1})},defaultValue:(D=t==null?void 0:t.pageData)==null?void 0:D.MetaDescription,placeholder:"Enter meta description"})]})})}),e.jsx(o,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter OG Description"}),e.jsx(s.Control,{as:"textarea",onChange:r=>{i(a=>({...a,metadata:{...a.services,OGDescription:r.target.value,ContentId:t.pageData.ContentId}})),l({metadata:!1})},rows:3,defaultValue:(E=t==null?void 0:t.pageData)==null?void 0:E.OGDescription,placeholder:"Enter og description"})]})})}),e.jsx(o,{children:e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Keywords"}),e.jsx(s.Control,{as:"textarea",onChange:r=>{i(a=>({...a,metadata:{...a.services,MetaKeywords:r.target.value,ContentId:t.pageData.ContentId}})),l({metadata:!1})},rows:3,defaultValue:(T=t==null?void 0:t.pageData)==null?void 0:T.MetaKeywords,placeholder:"Enter meta keywords"})]})})}),e.jsx(N,{variant:"primary",onClick:()=>u("metadata"),disabled:m.metadata,className:"float-right",children:"Submit"})]})})]})}),e.jsx(n,{children:e.jsx(d,{children:e.jsx(d.Body,{children:e.jsxs(R,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:(G=t==null?void 0:t.studies)==null?void 0:G.map((r,a)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:a+1}),e.jsx("td",{children:r.Heading1}),e.jsx("td",{children:r.Heading2}),e.jsx("td",{children:e.jsx("button",{onClick:()=>M(`/edit/${r.ContentSlug}`),className:"btn btn-primary",children:"Edit"})})]},a))})]})})})})]})})};export{U as default};
