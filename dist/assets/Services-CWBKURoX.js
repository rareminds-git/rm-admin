import{b as M,r as m,u as S,j as e,R as w,B as D}from"./index-CpFmk86o.js";import{R as c,C as n,b as i,a as N}from"./axios-Dx3QdDAU.js";import{T as L}from"./TextEditor-BhXx2iB8.js";import{a as O}from"./helpers-D_C948am.js";import{F as s}from"./Form-ClsflyVD.js";import{T as B}from"./Table-D1RLb0rs.js";import"./ckeditor5-FiHyv50m.js";import"./toString-qof7_FyP.js";const q=()=>{var g,p,C,f,b,v,E,y;const{slug:x}=M(),[t,G]=m.useState(),[T,l]=m.useState({services:{},metadata:{}}),[h,d]=m.useState({services:!0,metadata:!0}),I=S();m.useEffect(()=>{(()=>{let a={method:"get",maxBodyLength:1/0,url:`https://rareminds.in/api/services/${x}`,headers:{}};N.request(a).then(o=>{G(O(o.data))}).catch(o=>{console.log(o)})})()},[x]);const u=r=>{let a=T[r];a.ContentSlug=r;let o={method:"post",maxBodyLength:1/0,url:`https://rareminds.in/api/services/edit/${x}`,headers:{"Content-Type":"application/json"},data:JSON.stringify(a)};N.request(o).then(j=>{console.log(JSON.stringify(j.data))}).catch(j=>{console.log(j)})};return console.log("page data",t),e.jsx(w.Fragment,{children:e.jsxs(c,{children:[e.jsx(n,{sm:6,children:e.jsxs(i,{children:[e.jsx(i.Header,{children:e.jsx(i.Title,{as:"h5",children:"Our Services"})}),e.jsx(i.Body,{children:e.jsxs(s,{children:[e.jsx(c,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Heading"}),e.jsx(s.Control,{placeholder:"Enter heading",onChange:r=>{l(a=>({...a,services:{...a.services,Heading1:r.target.value}})),d({...h,services:!1})},defaultValue:(g=t==null?void 0:t.pageData)==null?void 0:g.Heading1})]})})}),e.jsx(c,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Description"}),e.jsx(L,{defaultValue:(p=t==null?void 0:t.pageData)==null?void 0:p.Description,contentSlug:"services",pageData:t,setBtnDisabled:d,setFormData:l,btnDisabled:h})]})})}),e.jsx(D,{variant:"primary",onClick:()=>u("services"),disabled:h.services,className:"float-right",children:"Submit"})]})})]})}),e.jsx(n,{sm:6,children:e.jsxs(i,{children:[e.jsx(i.Header,{children:e.jsx(i.Title,{as:"h5",children:"Metadata"})}),e.jsx(i.Body,{children:e.jsxs(s,{children:[e.jsxs(c,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Title"}),e.jsx(s.Control,{placeholder:"Enter meta title",onChange:r=>{l(a=>({...a,metadata:{...a.services,MetaTitle:r.target.value,ContentId:t.pageData.ContentId}})),d({metadata:!1})},defaultValue:(C=t==null?void 0:t.pageData)==null?void 0:C.MetaTitle})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter OG Title"}),e.jsx(s.Control,{placeholder:"Enter og title",onChange:r=>{l(a=>({...a,metadata:{...a.services,OGTitle:r.target.value,ContentId:t.pageData.ContentId}})),d({metadata:!1})},defaultValue:(f=t==null?void 0:t.pageData)==null?void 0:f.OGTitle})]})})]}),e.jsx(c,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Description"}),e.jsx(s.Control,{as:"textarea",rows:3,onChange:r=>{l(a=>({...a,metadata:{...a.services,MetaDescription:r.target.value,ContentId:t.pageData.ContentId}})),d({metadata:!1})},defaultValue:(b=t==null?void 0:t.pageData)==null?void 0:b.MetaDescription,placeholder:"Enter meta description"})]})})}),e.jsx(c,{children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter OG Description"}),e.jsx(s.Control,{as:"textarea",onChange:r=>{l(a=>({...a,metadata:{...a.services,OGDescription:r.target.value,ContentId:t.pageData.ContentId}})),d({metadata:!1})},rows:3,defaultValue:(v=t==null?void 0:t.pageData)==null?void 0:v.OGDescription,placeholder:"Enter og description"})]})})}),e.jsx(c,{children:e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Enter Meta Keywords"}),e.jsx(s.Control,{as:"textarea",onChange:r=>{l(a=>({...a,metadata:{...a.services,MetaKeywords:r.target.value,ContentId:t.pageData.ContentId}})),d({metadata:!1})},rows:3,defaultValue:(E=t==null?void 0:t.pageData)==null?void 0:E.MetaKeywords,placeholder:"Enter meta keywords"})]})})}),e.jsx(D,{variant:"primary",onClick:()=>u("metadata"),disabled:h.metadata,className:"float-right",children:"Submit"})]})})]})}),e.jsx(n,{children:e.jsx(i,{children:e.jsx(i.Body,{children:e.jsxs(B,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Service Name"}),e.jsx("th",{children:"Service Slug"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:(y=t==null?void 0:t.serviceData)==null?void 0:y.map((r,a)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:a+1}),e.jsx("td",{children:r.Heading1}),e.jsx("td",{children:r.ContentSlug}),e.jsx("td",{children:e.jsx("button",{onClick:()=>I(`/edit/${r.ContentSlug}`),className:"btn btn-primary",children:"Edit"})})]},a))})]})})})})]})})};export{q as default};
