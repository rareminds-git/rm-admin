import{r as h,u as S,j as e,R as N,B as A}from"./index-CpFmk86o.js";import{R as m,C as o,b as c,a as T}from"./axios-Dx3QdDAU.js";import{T as L}from"./TextEditor-BhXx2iB8.js";import{h as u}from"./moment-G82_0lEo.js";import{F as t}from"./Form-ClsflyVD.js";import"./ckeditor5-FiHyv50m.js";import"./toString-qof7_FyP.js";const B=()=>{const[v,g]=h.useState(1),[j,p]=h.useState(1),[a,r]=h.useState({eventData:{},eventSchedule:[],eventAgenda:[]}),[x,i]=h.useState({eventData:!0}),[D,b]=h.useState([]),C=S(),f=s=>{b(s.target.files[0])},E=()=>{let s=new FormData;for(var l in a)s.append(l,JSON.stringify(a[l]));s.append("Image1",D);let d={method:"post",maxBodyLength:1/0,url:"https://rareminds.in/api/addEvent",headers:"Content-Type: multipart/form-data",data:s};T.request(d).then(n=>{C("/events")}).catch(n=>{console.log(n)})};return console.log("form data",a),e.jsx(N.Fragment,{children:e.jsx(m,{children:e.jsx(o,{sm:12,children:e.jsxs(c,{children:[e.jsx(c.Header,{children:e.jsx(c.Title,{as:"h5",children:"Event"})}),e.jsx(c.Body,{children:e.jsx(t,{children:e.jsxs(m,{children:[e.jsx(o,{md:4,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Event Title"}),e.jsx(t.Control,{placeholder:"Enter event title",onChange:s=>{r({...a,eventData:{...a.eventData,Heading1:s.target.value}}),i({eventData:!1})}})]})}),e.jsx(o,{md:4,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Event SubTitle"}),e.jsx(t.Control,{placeholder:"Enter event subtitle",onChange:s=>{r({...a,eventData:{...a.eventData,Heading2:s.target.value}}),i({eventData:!1})}})]})}),e.jsx(o,{md:4,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Event Category"}),e.jsx(t.Control,{placeholder:"Enter event category",onChange:s=>{r({...a,eventData:{...a.eventData,SubHeading1:s.target.value}}),i({eventData:!1})}})]})}),e.jsx(o,{md:4,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Organiser Name"}),e.jsx(t.Control,{placeholder:"Enter organiser name",onChange:s=>{r({...a,eventData:{...a.eventData,SubHeading2:s.target.value}}),i({eventData:!1})}})]})}),e.jsx(o,{md:4,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Event Date"}),e.jsx(t.Control,{type:"date",onChange:s=>{r({...a,eventData:{...a.eventData,EventDate:u(s.target.value).format("YYYY-MM-DD HH:mm:ss")}}),i({eventData:!1})}})]})}),e.jsx(o,{md:4,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Event Venue"}),e.jsx(t.Control,{placeholder:"Enter event venue",onChange:s=>{r({...a,eventData:{...a.eventData,Address1:s.target.value}}),i({eventData:!1})}})]})}),e.jsx(o,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Description"}),e.jsx(t.Control,{placeholder:"Enter Description",onChange:s=>{r({...a,eventData:{...a.eventData,Description:s.target.value}}),i({eventData:!1})},as:"textarea",rows:4})]})}),e.jsx(o,{md:3,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Event Image"}),e.jsx(t.Control,{type:"file",onChange:s=>{f(s),i({...x,eventData:!1})}})]})}),e.jsx(o,{md:3,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Enter Event Slug"}),e.jsx(t.Control,{placeholder:"Enter event venue",onChange:s=>{r({...a,eventData:{...a.eventData,ContentSlug:s.target.value}}),i({eventData:!1})}})]})}),e.jsx(o,{md:3,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Registration Open"}),["radio"].map(s=>e.jsxs("div",{className:"mb-3",children:[e.jsx(t.Check,{inline:!0,label:"Yes",onChange:l=>{r({...a,eventData:{...a.eventData,Status:1}})},name:"group1",type:s,id:`inline-${s}-1`}),e.jsx(t.Check,{inline:!0,label:"No",onChange:l=>{r({...a,eventData:{...a.eventData,Status:0}})},name:"group1",type:s,id:`inline-${s}-2`})]},`inline-${s}`))]})})]})})}),e.jsx(c.Header,{children:e.jsx(c.Title,{as:"h5",children:"Event Schedule"})}),e.jsx(c.Body,{children:[...Array(v).keys()].map((s,l)=>e.jsxs(m,{children:[e.jsx(o,{sm:"5",children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Date"}),e.jsx(t.Control,{type:"date",onChange:d=>{let n=[];a.eventSchedule.length>0?(n=a.eventSchedule,n[l]||(n[l]={}),n[l].Date=u(d.target.value).format("YYYY-MM-DD HH:mm:ss"),r({...a,eventSchedule:n})):(n.push({Date:u(d.target.value).format("YYYY-MM-DD HH:mm:ss")}),r({...a,eventSchedule:n})),i({eventSchedule:!1})}})]})}),e.jsx(o,{sm:"5",children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Title"}),e.jsx(t.Control,{type:"text",onChange:d=>{let n=[];a.eventSchedule.length>0?(n=a.eventSchedule,n[l]||(n[l]={}),n[l].Title=d.target.value,r({...a,eventSchedule:n})):(n.push({Title:d.target.value}),r({...a,eventSchedule:n})),i({eventSchedule:!1})}})]})}),e.jsx(o,{sm:"2",children:e.jsx("button",{className:"btn btn-success mt-4",onClick:()=>g(v+1),children:"Add"})})]},l))}),e.jsx(c.Header,{children:e.jsx(c.Title,{as:"h5",children:"Agenda"})}),e.jsxs(c.Body,{children:[[...Array(j).keys()].map((s,l)=>e.jsxs(m,{children:[e.jsx(o,{sm:"3",children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Title"}),e.jsx(t.Control,{type:"text",onChange:d=>{let n=[];a.eventAgenda.length>0?(n=a.eventAgenda,n[l]||(n[l]={}),n[l].Title=d.target.value,r({...a,eventAgenda:n})):(n.push({Title:d.target.value}),r({...a,eventAgenda:n})),i({eventAgenda:!1})}})]})}),e.jsx(o,{sm:"3",children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Time"}),e.jsx(t.Control,{type:"text",onChange:d=>{let n=[];a.eventAgenda.length>0?(n=a.eventAgenda,n[l]||(n[l]={}),n[l].Time=d.target.value,r({...a,eventAgenda:n})):(n.push({Time:d.target.value}),r({...a,eventAgenda:n})),i({eventAgenda:!1})}})]})}),e.jsx(o,{sm:"4",children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Description"}),e.jsx(L,{contentSlug:"eventAgenda",pageData:{},setBtnDisabled:i,setFormData:r,index:l,formData:a,btnDisabled:x})]})}),e.jsx(o,{sm:"2",children:e.jsx("button",{className:"btn btn-success mt-4",onClick:()=>p(j+1),children:"Add"})})]},l)),e.jsx(A,{variant:"primary",onClick:()=>E(),className:"float-right",children:"Submit"})]})]})})})})};export{B as default};
